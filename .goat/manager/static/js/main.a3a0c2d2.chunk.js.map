{"version":3,"sources":["../../Goat/dist/Helpers/Connection.js","../../Goat/dist/Log/Logger.js","layout/Main/index.js","modules/Main/index.tsx","serviceWorker.ts","config/goat.ts","index.tsx","../../Goat/dist/Helpers/Objects.js","modules/UI/stores/theme/ThemeStore.tsx","modules/UI/stores/theme/context.tsx","modules/UI/stores/theme/useThemeStore.tsx","../../Goat/dist/index.js","../../Goat/dist/BaseConnector.js","../../Goat/dist/Collection.js","../../Goat/dist/Fluent.js","../../Goat/dist/Model.js","../../Goat/dist/Helpers/Event.js","../../Goat/dist/Providers/Loopback/LoopbackConnector.js","../../Goat/dist/Helpers/Formio/findComponents.js","../../Goat/dist/Helpers/Formio/eachComponent.js","../../Goat/dist/Helpers/Errors.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","axios_1","require","Event_1","Connection","online","window","navigator","onLine","freeze","initEventListeners","Event","listen","callback","console","log","emit","data","name","text","isOnline","Promise","resolve","reject","default","get","then","res","catch","err","logger","chalk","prefix","colors","DEBUG","cyan","ERROR","red","INFO","blue","TRACE","magenta","WARN","yellow","reg","getLevel","type","process","APP_DEBUG","toLowerCase","disableAll","enableAll","setLevel","apply","format","level","timestamp","gray","toUpperCase","green","getLogger","bold","template","levelFormatter","nameFormatter","timestampFormatter","date","toISOString","Log","alert","message","error","critical","custom","debug","emergency","info","notice","warning","warn","Dashboards","lazy","Widgets","Elements","Components","Charts","Forms","Tables","ResourceBuilder","AppMain","fallback","className","path","component","exact","render","to","Main","observer","themeStore","useThemeStore","useObserver","colorScheme","enableFixedHeader","enableFixedSidebar","enableFixedFooter","enableClosedSidebar","enableMobileMenu","closedSmallerSidebar","useThemeData","handleWidth","width","cx","withRouter","Boolean","location","hostname","match","BackendConnector","baseUrl","String","connector","Loopback","Fluent","config","LOCAL_CONNECTORS","MERGE_CONNECTORS","REMOTE_CONNECTORS","a","Component","rootElement","document","getElementById","App","ReactDOM","serviceWorker","ready","registration","unregister","Objects","fn","defaultValue","e","clone","object","JSON","parse","stringify","deleteNulls","obj","isArray","Array","k","splice","flatten","ob","keyFactory","previousKey","currentKey","toReturn","i","hasOwnProperty","flatObject","x","getFromPath","def","PATH","pathArray","includes","split","assignedName","length","trim","undefined","fullPath","replace","filter","map","label","every","step","isEmpty","key","call","nest","getNestedObject","entries","reduce","result","prop","val","nestedResult","propIndex","propArray","lastProp","constructor","isPlainObject","isObject","ThemeStore","types","model","drawerOpen","active","mobile","mobileSmall","activeSecondaryMenuMobile","openLeft","openRight","relativeWidth","noTouchOpen","noTouchClose","backgroundColor","headerBackgroundColor","enableMobileMenuSmall","enableBackgroundImage","enableHeaderShadow","enableSidebarShadow","backgroundImage","backgroundImageOpacity","enablePageTitleIcon","enablePageTitleSubheading","enablePageTabsAlt","actions","self","toggleDrawer","toggleMobileSidebar","toggleMobileSmall","toggleSecondaryMenuMobile","themeContext","React","createContext","create","useContext","BaseConnector_1","BaseConnector","Fluent_1","Model_1","Model","__awaiter","thisArg","_arguments","P","generator","fulfilled","next","rejected","done","Collection_1","Objects_1","remoteConnection","chainReference","whereArray","orWhereArray","selectArray","orderByArray","limitNumber","offsetNumber","populateArray","chunk","pullSize","ownerId","paginator","rawQuery","operators","Error","id","_id","options","sure","query","user","push","method","args","owner","Collection","columns","prepareInput","concat","elem","pos","arr","indexOf","offset","relations","forEach","arg","limit","keyPath","extracted","dataArray","initial","element","showProgress","insert","f","_data","newElement","attribute","extract","field","order","sort","b","A","B","Date","getTime","input","cols","item","average","sum","Number","acc","avg","size","totalSize","count","chunks","reducer","chain","batch","all","d","promiseChain","results","collapse","array","Fx","isFunction","some","index","keys","duplicates","submission","finalKey","s","functionToCheck","toString","connectorTypes","global","_FLUENT_","models","registerModel","ctx","connectors","assign","find","o","filteredConnectors","registerGlobalVariable","local","merge","remote","pullForm","token","connectorName","FLUENT","getFluentConfig","remoteConnector","getConnector","localConnector","mergeConnector","getConnectorFromArray","Lcon","c","base","customEvent","event","params","evt","createEvent","bubbles","cancelable","detail","initCustomEvent","CustomEvent","dispatchEvent","addEventListener","remove","removeEventListener","await_to_js_1","dayjs_1","isSameOrAfter_1","pluralize_1","Connection_1","Errors_1","findComponents_1","extend","andWhere","httpGET","response","status","Errors","jsApplySelect","current_page","meta","currentPage","first_page_url","firstPageUrl","next_page_url","nextPageUrl","per_page","itemsPerPage","prev_page_url","previousPageUrl","total","totalItemCount","httpPOST","remotePath","getForm","form","components","finalComponents","getTableViewComponents","select","paginate","findComponents","tableView","httpPUT","promises","pluck","httpDelete","deleted","where","first","Config","headers","getToken","getTokenType","Authorization","page","perPage","populate","relation","nestedRelation","url","getHeaders","getFilters","getLimit","getSkip","getSelect","getOrderBy","getPaginatorLimit","getPage","getPopulate","related","skip","fields","and","encodeURI","getUrl","draft","redirect","syncError","trigger","post","put","delete","filters","condition","operator","neq","gt","gte","lt","lte","inq","nin","exists","regexp","startsWith","unshift","localStorage","getItem","eachComponent_1","eachComponent","matches","matchComponent","includeAll","parent","hasColumns","hasRows","rows","hasComps","noRecurse","newPath","componentMap","tree","subPath","column","row","VError","createError","Logger_1","cause","stackableError","details","errors","stack","code","httpError"],"mappings":"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","file":"static/js/main.a3a0c2d2.chunk.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst axios_1 = __importDefault(require(\"axios\"));\nconst Event_1 = require(\"./Event\");\nexports.Connection = (() => {\n    let online = typeof window !== 'undefined' && window && window.navigator ? window.navigator.onLine : true;\n    function setOnline() {\n        if (!online) {\n            online = true;\n            Event_1.Event.emit({\n                data: online,\n                name: 'GOAT:CONNECTION:ONLINE',\n                text: 'Application is now online'\n            });\n        }\n    }\n    function setOffline() {\n        if (online) {\n            online = false;\n            Event_1.Event.emit({\n                data: online,\n                name: 'GOAT:CONNECTION:OFFLINE',\n                text: 'Application is now offline'\n            });\n        }\n    }\n    /**\n     * [status description]\n     * @return {Promise} [description]\n     */\n    function initEventListeners() {\n        Event_1.Event.listen({\n            callback: () => {\n                console.log('App is now online');\n                setOnline();\n            },\n            name: 'online'\n        });\n        Event_1.Event.listen({\n            callback: () => {\n                console.log('App is now offline');\n                setOffline();\n            },\n            name: 'offline'\n        });\n    }\n    function isOnline() {\n        return new Promise((resolve, reject) => {\n            axios_1.default\n                .get('https://yesno.wtf/api')\n                .then(res => {\n                resolve(true);\n            })\n                .catch(err => {\n                resolve(false);\n            });\n        });\n    }\n    return Object.freeze({\n        initEventListeners,\n        isOnline\n    });\n})();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst logger = require('loglevel');\nconst chalk = require('chalk');\nconst prefix = require('loglevel-plugin-prefix');\nconst colors = {\n    DEBUG: chalk.cyan,\n    ERROR: chalk.red,\n    INFO: chalk.blue,\n    TRACE: chalk.magenta,\n    WARN: chalk.yellow\n};\nprefix.reg(logger);\nconst getLevel = () => {\n    const level = process.env.APP_DEBUG || 'silent';\n    let type = 'silent';\n    switch (level.toLowerCase()) {\n        case 'trace':\n            type = 'trace';\n            break;\n        case 'debug':\n            type = 'debug';\n            break;\n        case 'info':\n            type = 'info';\n            break;\n        case 'warn':\n            type = 'warn';\n            break;\n        case 'error':\n            type = 'error';\n            break;\n        default:\n            type = 'silent';\n            break;\n    }\n    return type;\n};\nif (getLevel() === 'silent') {\n    logger.disableAll();\n}\nelse if (getLevel() === 'trace') {\n    logger.enableAll();\n}\nelse {\n    logger.setLevel(getLevel());\n}\nprefix.apply(logger, {\n    format(level, name, timestamp) {\n        return `${chalk.gray(`[${timestamp}]`)} ${colors[level.toUpperCase()](level)} ${chalk.green(`${name}:`)}`;\n    }\n});\nprefix.apply(logger.getLogger('critical'), {\n    format(level, name, timestamp) {\n        return chalk.red.bold(`[${timestamp}] ${level} ${name}:`);\n    }\n});\nprefix.apply(logger, {\n    template: '[%t] %l (%n):',\n    levelFormatter(level) {\n        return colors[level.toUpperCase()](level.toUpperCase());\n    },\n    nameFormatter(name) {\n        return chalk.green(`${name || 'global'}`);\n    },\n    timestampFormatter(date) {\n        return chalk.gray(`[${date.toISOString()}]`);\n    }\n});\nexports.Log = (() => {\n    /**\n     * Log an emergency message to the logs.\n     * @param message\n     */\n    const emergency = (message) => {\n        return logger.getLogger('emergency').error(message);\n    };\n    /**\n     * Log an alert message to the logs.\n     * @param message\n     */\n    const alert = (message) => {\n        return logger.getLogger('alert').error(message);\n    };\n    /**\n     * Log a critical message to the logs.\n     * @param message\n     */\n    const critical = (message) => {\n        return logger.getLogger('critical').error(message);\n    };\n    /**\n     * Log a error message to the logs.\n     * @param message\n     */\n    const error = (message) => {\n        return logger.getLogger('error').error(message);\n    };\n    /**\n     * Log a warning message to the logs.\n     * @param message\n     */\n    const warning = (message) => {\n        return logger.getLogger('warning').warn(message);\n    };\n    /**\n     * Log a notice message to the logs.\n     * @param message\n     */\n    const notice = (message) => {\n        return logger.getLogger('notice').info(message);\n    };\n    /**\n     * Log an info message to the logs.\n     * @param message\n     */\n    const info = (message) => {\n        return logger.getLogger('info').info(message);\n    };\n    /**\n     * Log a debug message to the logs.\n     * @param message\n     */\n    const debug = (message) => {\n        return logger.getLogger('debug').debug(message);\n    };\n    /**\n     * Log a log message to the logs.\n     * @param message\n     */\n    const log = (message) => {\n        return logger.getLogger('log').debug(message);\n    };\n    /**\n     * Get a custom logger.\n     * @param name\n     */\n    const custom = (name) => {\n        return logger.getLogger(name || 'global');\n    };\n    return Object.freeze({\n        alert,\n        critical,\n        custom,\n        debug,\n        emergency,\n        error,\n        info,\n        log,\n        notice,\n        warning\n    });\n})();\n","/*eslint-disable */\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\nimport React, { Suspense, lazy, Fragment } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\nconst Dashboards = lazy(() => import(\"../../modules/UI/Dashboards\"));\nconst Widgets = lazy(() => import(\"../../modules/UI/Widgets\"));\nconst Elements = lazy(() => import(\"../../modules/UI/Elements\"));\nconst Components = lazy(() => import(\"../../modules/UI/Components\"));\nconst Charts = lazy(() => import(\"../../modules/UI/Charts\"));\nconst Forms = lazy(() => import(\"../../modules/UI/Forms\"));\nconst Tables = lazy(() => import(\"../../modules/UI/Tables\"));\nconst ResourceBuilder = lazy(() => import(\"../../modules/Forms\"));\n\nconst AppMain = () => {\n  return (\n    <Fragment>\n      {/* Resources */}\n\n      <Suspense\n        fallback={\n          <div className=\"loader-container\">\n            <div className=\"loader-container-inner\">\n              <h6 className=\"mt-5\">\n                Loading...\n                <small>Wait for the resource builder to load</small>\n              </h6>\n            </div>\n          </div>\n        }\n      >\n        <Route path=\"/forms/:_id*\" component={ResourceBuilder} />\n      </Suspense>\n      {/* Components */}\n\n      <Suspense\n        fallback={\n          <div className=\"loader-container\">\n            <div className=\"loader-container-inner\">\n              <h6 className=\"mt-5\">\n                Please wait while we load all the Components examples\n                <small>\n                  Because this is a demonstration we load at once all the\n                  Components examples. This wouldn't happen in a real live app!\n                </small>\n              </h6>\n            </div>\n          </div>\n        }\n      >\n        <Route path=\"/components\" component={Components} />\n      </Suspense>\n\n      {/* Forms */}\n\n      <Suspense\n        fallback={\n          <div className=\"loader-container\">\n            <div className=\"loader-container-inner\">\n              <h6 className=\"mt-5\">\n                Please wait while we load all the Forms examples\n                <small>\n                  Because this is a demonstration we load at once all the Forms\n                  examples. This wouldn't happen in a real live app!\n                </small>\n              </h6>\n            </div>\n          </div>\n        }\n      >\n        <Route path=\"/formsui\" component={Forms} />\n      </Suspense>\n\n      {/* Charts */}\n\n      <Suspense\n        fallback={\n          <div className=\"loader-container\">\n            <div className=\"loader-container-inner\">\n              <h6 className=\"mt-3\">\n                Please wait while we load all the Charts examples\n                <small>\n                  Because this is a demonstration we load at once all the Charts\n                  examples. This wouldn't happen in a real live app!\n                </small>\n              </h6>\n            </div>\n          </div>\n        }\n      >\n        <Route path=\"/charts\" component={Charts} />\n      </Suspense>\n\n      {/* Tables */}\n\n      <Suspense\n        fallback={\n          <div className=\"loader-container\">\n            <div className=\"loader-container-inner\">\n              <h6 className=\"mt-5\">\n                Please wait while we load all the Tables examples\n                <small>\n                  Because this is a demonstration we load at once all the Tables\n                  examples. This wouldn't happen in a real live app!\n                </small>\n              </h6>\n            </div>\n          </div>\n        }\n      >\n        <Route path=\"/tables\" component={Tables} />\n      </Suspense>\n\n      {/* Elements */}\n\n      <Suspense\n        fallback={\n          <div className=\"loader-container\">\n            <div className=\"loader-container-inner\">\n              <h6 className=\"mt-3\">\n                Please wait while we load all the Elements examples\n                <small>\n                  Because this is a demonstration we load at once all the\n                  Elements examples. This wouldn't happen in a real live app!\n                </small>\n              </h6>\n            </div>\n          </div>\n        }\n      >\n        <Route path=\"/elements\" component={Elements} />\n      </Suspense>\n\n      {/* Dashboard Widgets */}\n\n      <Suspense\n        fallback={\n          <div className=\"loader-container\">\n            <div className=\"loader-container-inner\">\n              <h6 className=\"mt-3\">\n                Please wait while we load all the Dashboard Widgets examples\n                <small>\n                  Because this is a demonstration we load at once all the\n                  Dashboard Widgets examples. This wouldn't happen in a real\n                  live app!\n                </small>\n              </h6>\n            </div>\n          </div>\n        }\n      >\n        <Route path=\"/widgets\" component={Widgets} />\n      </Suspense>\n\n      {/* Dashboards */}\n\n      <Suspense\n        fallback={\n          <div className=\"loader-container\">\n            <div className=\"loader-container-inner\">\n              <h6 className=\"mt-3\">\n                Please wait while we load all the Dashboards examples\n                <small>\n                  Because this is a demonstration, we load at once all the\n                  Dashboards examples. This wouldn't happen in a real live app!\n                </small>\n              </h6>\n            </div>\n          </div>\n        }\n      >\n        <Route path=\"/dashboards\" component={Dashboards} />\n      </Suspense>\n\n      <Route\n        exact\n        path=\"/\"\n        render={() => <Redirect to=\"/dashboards/basic\" />}\n      />\n      <ToastContainer />\n    </Fragment>\n  );\n};\n\nexport default AppMain;\n","import React from \"react\";\nimport cx from \"classnames\";\nimport { withRouter } from \"react-router-dom\";\nimport ResizeDetector from \"react-resize-detector\";\nimport AppMain from \"../../layout/Main\";\n\nimport { useThemeStore } from \"../UI/stores/theme/useThemeStore\";\nimport { observer, useObserver } from \"mobx-react\";\n\nconst useThemeData = () => {\n  const { themeStore } = useThemeStore();\n  return useObserver(() => ({\n    colorScheme: themeStore.colorScheme,\n    enableFixedHeader: themeStore.enableFixedHeader,\n    enableFixedSidebar: themeStore.enableFixedSidebar,\n    enableFixedFooter: themeStore.enableFixedFooter,\n    enableClosedSidebar: themeStore.enableClosedSidebar,\n    enableMobileMenu: themeStore.enableMobileMenu,\n    closedSmallerSidebar: themeStore.closedSmallerSidebar\n  }));\n};\n\nconst Main = observer(() => {\n  let {\n    colorScheme,\n    enableFixedHeader,\n    enableFixedSidebar,\n    enableFixedFooter,\n    enableClosedSidebar,\n    enableMobileMenu,\n    closedSmallerSidebar\n  } = useThemeData();\n\n  return (\n    <ResizeDetector\n      handleWidth\n      render={({ width }) => (\n        <div\n          className={cx(\n            \"app-container app-theme-\" + colorScheme,\n            { \"fixed-header\": enableFixedHeader },\n            { \"fixed-sidebar\": enableFixedSidebar || width < 1250 },\n            { \"fixed-footer\": enableFixedFooter },\n            { \"closed-sidebar\": enableClosedSidebar || width < 1250 },\n            {\n              \"closed-sidebar-mobile\": closedSmallerSidebar || width < 1250\n            },\n            { \"sidebar-mobile-open\": enableMobileMenu }\n          )}\n        >\n          <AppMain />\n        </div>\n      )}\n    />\n  );\n});\n\nexport default withRouter(Main);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Fluent } from \"@goatlab/fluent\";\nimport { Loopback } from \"@goatlab/fluent/dist/Providers/Loopback/LoopbackConnector\";\n\nconst BackendConnector = {\n  baseUrl: String(process.env.REACT_APP_FLUENT_BASE_URL),\n  connector: Loopback,\n  default: true,\n  name: \"backend\"\n};\n\nnew Fluent().config({\n  LOCAL_CONNECTORS: [],\n  MERGE_CONNECTORS: [],\n  REMOTE_CONNECTORS: [BackendConnector]\n});\n\nexport const config = async () => {\n  /*\n    const { config, translations } = await GOAT.start({\n    appConf: initialConfig\n  });\n  */\n};\n","import React, { ComponentClass } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/base.css\";\nimport App from \"./modules/Main\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { config } from \"./config/goat\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./styles.scss\";\nconfig();\nconst rootElement = document.getElementById(\"root\");\n\nconst renderApp = (Component: ComponentClass) => {\n  ReactDOM.render(\n    <HashRouter>\n      <Component />\n    </HashRouter>,\n    rootElement\n  );\n};\n\nrenderApp(App);\n\nif (module.hot) {\n  module.hot.accept(\"./_Router\", () => {\n    const NextApp = require(\"./_Router\").default;\n    renderApp(NextApp);\n  });\n}\nserviceWorker.unregister();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Objects = (() => {\n    /**\n     * Given an Object and its path, it will return the\n     * given path if it exists or the default\n     * @param fn Function returning the nested Object\n     * @param defaultValue\n     */\n    const get = (fn, defaultValue) => {\n        let value;\n        try {\n            value = fn();\n        }\n        catch (e) {\n            value = defaultValue;\n        }\n        if (typeof value === 'undefined') {\n            value = defaultValue;\n        }\n        return value;\n    };\n    /**\n     * Given an object and the string version of the path it\n     * will return the value if it exists or the default.\n     * Simplified version of lodash get\n     * @param {*} obj\n     * @param {*} path\n     * @param {*} def\n     */\n    const getFromPath = (obj, path, def) => {\n        let PATH = path;\n        let pathArray = [];\n        if (path.includes(' as ')) {\n            pathArray = path.split(' as ');\n            PATH = pathArray[0];\n        }\n        const assignedName = get(() => {\n            return pathArray.length > 0 && pathArray[1].trim();\n        }, undefined);\n        const fullPath = PATH.replace(/\\[/g, '.')\n            .replace(/]/g, '')\n            .split('.')\n            .filter(Boolean)\n            .map(e => e.trim());\n        function everyFunc(step) {\n            return !(step && (obj = obj[step]) === undefined);\n        }\n        const result = fullPath.every(everyFunc) ? obj : def;\n        return { label: assignedName || PATH, value: result };\n    };\n    /**\n     * Given a nested Object it generates a flattened version using\n     * dot notation. Custom notation can be assigned using the\n     * keyFactory helper function\n     * @param ob\n     * @param keyFactory\n     */\n    const flatten = (ob, keyFactory = null) => {\n        if (keyFactory === null) {\n            keyFactory = (previousKey, currentKey) => previousKey + '.' + currentKey;\n        }\n        const toReturn = {};\n        for (const i in ob) {\n            if (!ob.hasOwnProperty(i)) {\n                continue;\n            }\n            if (typeof ob[i] === 'object') {\n                const flatObject = flatten(ob[i]);\n                for (const x in flatObject) {\n                    if (!flatObject.hasOwnProperty(x)) {\n                        continue;\n                    }\n                    toReturn[keyFactory(i, x)] = flatObject[x];\n                }\n            }\n            else {\n                toReturn[i] = ob[i];\n            }\n        }\n        return toReturn;\n    };\n    /**\n     * Opposite of the flatten method. Given a nested dot notation flatten object.\n     * it will generate the corresponding nested object\n     * @param obj\n     */\n    const nest = (obj) => {\n        if (!obj) {\n            return {};\n        }\n        const isPlainObject = (obj) => !!obj && obj.constructor === {}.constructor;\n        const getNestedObject = (obj) => Object.entries(obj).reduce((result, [prop, val]) => {\n            prop.split('.').reduce((nestedResult, prop, propIndex, propArray) => {\n                const lastProp = propIndex === propArray.length - 1;\n                if (lastProp) {\n                    nestedResult[prop] = isPlainObject(val) ? getNestedObject(val) : val;\n                }\n                else {\n                    nestedResult[prop] = nestedResult[prop] || {\n                        isObject: true\n                    };\n                }\n                return nestedResult[prop];\n            }, result);\n            return result;\n        }, {});\n        return getNestedObject(obj);\n    };\n    /**\n     * Deep clones a JS object using JSON.parse. This method\n     * will not clone functions inside objects\n     * @param {Object} object\n     */\n    const clone = (object) => {\n        return JSON.parse(JSON.stringify(object));\n    };\n    /**\n     * Given a value, it will check if it contains\n     * none null, none undefined values inside\n     * @param {string, Array, Object} value\n     */\n    const isEmpty = (value) => {\n        if (typeof value === 'undefined') {\n            return true;\n        }\n        if (value === null) {\n            return true;\n        }\n        if (Array.isArray(value) || typeof value === 'string') {\n            return !value.length;\n        }\n        for (const key in value) {\n            if (hasOwnProperty.call(value, key)) {\n                return false;\n            }\n        }\n        return false;\n    };\n    /**\n     * Recursively removes all NULL values\n     * from an Object or an Array\n     *\n     * @static\n     * @param {Array|Object} object Array, Object to clean\n     * @returns {Array|Object} returns the cleaned value\n     */\n    const deleteNulls = (object) => {\n        const obj = object;\n        const isArray = obj instanceof Array;\n        for (const k in obj) {\n            if (obj[k] === null) {\n                isArray ? obj.splice(k, 1) : delete obj[k];\n            }\n            else if (typeof obj[k] === 'object') {\n                deleteNulls(obj[k]);\n            }\n        }\n        return obj;\n    };\n    return Object.freeze({\n        clone,\n        deleteNulls,\n        flatten,\n        get,\n        getFromPath,\n        isEmpty,\n        nest\n    });\n})();\n","import { types } from \"mobx-state-tree\";\n\nexport const ThemeStore = types\n  .model(\"ThemeStore\", {\n    drawerOpen: false,\n    active: false,\n    mobile: false,\n    mobileSmall: true,\n    activeSecondaryMenuMobile: true,\n    openLeft: false,\n    openRight: false,\n    relativeWidth: false,\n    width: 280,\n    noTouchOpen: false,\n    noTouchClose: false,\n    enableClosedSidebar: false,\n    enableFixedHeader: true,\n    enableFixedFooter: true,\n    enableFixedSidebar: true,\n    colorScheme: \"white\",\n    enableMobileMenu: false,\n    closedSmallerSidebar: false,\n    backgroundColor: \"bg-goat sidebar-text-light\",\n    headerBackgroundColor: \"bg-goat header-text-light\",\n    enableMobileMenuSmall: \"\",\n    enableBackgroundImage: true,\n    enableHeaderShadow: true,\n    enableSidebarShadow: true,\n    backgroundImage: \"\",\n    backgroundImageOpacity: \"opacity-06\",\n    enablePageTitleIcon: true,\n    enablePageTitleSubheading: true,\n    enablePageTabsAlt: false\n  })\n  .actions(self => ({\n    toggleDrawer() {\n      self.drawerOpen = !self.drawerOpen;\n      self.enableClosedSidebar = !self.enableClosedSidebar;\n    },\n    toggleMobileSidebar() {\n      self.mobile = !self.mobile;\n    },\n    toggleMobileSmall() {\n      self.mobileSmall = !self.mobileSmall;\n    },\n    toggleSecondaryMenuMobile() {\n      self.activeSecondaryMenuMobile = !self.activeSecondaryMenuMobile;\n    }\n  }));\n","import React from \"react\";\nimport { ThemeStore } from \"./ThemeStore\";\n\nexport const themeContext = React.createContext({\n  themeStore: ThemeStore.create()\n});\n","import React from \"react\";\nimport { themeContext } from \"./context\";\n\nexport const useThemeStore = () => React.useContext(themeContext);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst BaseConnector_1 = require(\"./BaseConnector\");\nexports.BaseConnector = BaseConnector_1.BaseConnector;\nconst Fluent_1 = require(\"./Fluent\");\nexports.Fluent = Fluent_1.Fluent;\nconst Model_1 = require(\"./Model\");\nexports.Model = Model_1.Model;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Collection_1 = require(\"./Collection\");\nconst Objects_1 = require(\"./Helpers/Objects\");\nclass BaseConnector {\n    constructor({ name, remoteConnection, connector }) {\n        this.chainReference = [];\n        this.whereArray = [];\n        this.orWhereArray = [];\n        this.selectArray = [];\n        this.orderByArray = [];\n        this.limitNumber = undefined;\n        this.offsetNumber = undefined;\n        this.populateArray = [];\n        this.chunk = null;\n        this.pullSize = null;\n        this.ownerId = undefined;\n        this.paginator = undefined;\n        this.rawQuery = undefined;\n        this.operators = [\n            '=',\n            '<',\n            '>',\n            '<=',\n            '>=',\n            '<>',\n            '!=',\n            'in',\n            'nin',\n            'like',\n            'regexp',\n            'startsWith',\n            'endsWith',\n            'contains'\n        ];\n        this.name = name || this.name;\n        this.remoteConnection = remoteConnection || this.remoteConnection;\n        this.connector = connector || this.connector;\n        this.chainReference = [];\n        this.whereArray = [];\n        this.orWhereArray = [];\n        this.selectArray = [];\n        this.orderByArray = [];\n        this.limitNumber = undefined;\n        this.offsetNumber = undefined;\n        this.populateArray = [];\n        this.chunk = null;\n        this.pullSize = null;\n        this.ownerId = undefined;\n        this.paginator = undefined;\n        this.rawQuery = undefined;\n    }\n    /**\n     *\n     */\n    get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('get() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    all() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('all() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    findById(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('find() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    find(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('find() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    findOne() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('findOne() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    remove() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('remove() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    removeById(_id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('remove() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    softDelete() {\n        throw new Error('softDelete() method not implemented');\n    }\n    /**\n     *\n     */\n    insert(data, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('insert() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    update(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('update() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    clear({ sure }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('clear() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    updateOrCreate() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('updateOrCreate() method not implemented');\n        });\n    }\n    /**\n     *\n     */\n    findAndRemove() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('findAndRemove() method not implemented');\n        });\n    }\n    /**\n     *\n     * @param {*} paginator\n     */\n    paginate(paginator) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('paginate() method not implemented');\n        });\n    }\n    /**\n     * @param {*} tableView\n     */\n    tableView(paginator) {\n        throw new Error('tableView() method not implemented');\n    }\n    /**\n     * @param {*} raw\n     */\n    raw(query) {\n        throw new Error('Raw method not implemented');\n    }\n    /**\n     *\n     * @param user\n     */\n    owner(user) {\n        this.chainReference.push({ method: 'owner', args: user });\n        this.ownerId = user;\n        return this;\n    }\n    /**\n     *\n     * @param user\n     */\n    own(user) {\n        return this.owner(user);\n    }\n    /**\n     * Executes the Get() method and\n     * returns the its first result\n     *\n     * @return {Object} First result\n     */\n    first() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = yield this.get();\n            return Objects_1.Objects.get(() => data[0], []);\n        });\n    }\n    /**\n     *\n     * Gets the data in the current query and\n     * transforms it into a collection\n     * @returns {Collection} Fluent Collection\n     */\n    collect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = yield this.get();\n            if (!Array.isArray(data)) {\n                throw new Error('Collect method only accepts arrays of data');\n            }\n            return new Collection_1.Collection(data);\n        });\n    }\n    /**\n     * Adds the given columns to the SelectArray\n     * to use as column filter for the data\n     *\n     * @param {Array|String} columns The columns to select\n     * @returns {Model} Fluent Model\n     */\n    select(...columns) {\n        columns = this.prepareInput(columns);\n        this.chainReference.push({ method: 'select', args: columns });\n        this.selectArray = this.selectArray.concat(columns).filter((elem, pos, arr) => {\n            return arr.indexOf(elem) === pos;\n        });\n        return this;\n    }\n    /**\n     *  Sets the offset number for\n     *  the given query\n     *\n     * @param {int} offset The given offset\n     * @returns {Model} Fluent Model\n     */\n    offset(offset) {\n        this.chainReference.push({ method: 'offset', args: offset });\n        this.offsetNumber = offset;\n        return this;\n    }\n    /**\n     *  Sets the relations to be\n     *  loaded with the query\n     *\n     * @param {int} offset The given offset\n     * @returns {Model} Fluent Model\n     */\n    populate(...relations) {\n        this.chainReference.push({ method: 'relations', args: relations });\n        this.populateArray = relations;\n        return this;\n    }\n    /**\n     *  Alias for the offset methods\n     *\n     * @param {int} offset the given offset\n     */\n    skip(offset) {\n        return this.offset(offset);\n    }\n    /**\n     *  Adds where filters to the query\n     *  whereArray\n     * @param {String|Array} args Where filters\n     * @returns {Model} Fluent Model\n     */\n    where(...args) {\n        this.chainReference.push({ method: 'where', args });\n        this.whereArray = [];\n        args = Array.isArray(args[0]) ? args : [args];\n        args.forEach(arg => {\n            if (arg.length !== 3) {\n                throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n                    JSON.stringify(arg) +\n                    '\" ');\n            }\n            this.whereArray.push(arg);\n        });\n        return this;\n    }\n    /**\n     * Pushes where filters with AND condition\n     * to the whereArray\n     *\n     * @param {String|Array} args Where filters\n     * @returns {Model} Fluent Model\n     */\n    andWhere(...args) {\n        this.chainReference.push({ method: 'andWhere', args });\n        args = Array.isArray(args[0]) ? args : [args];\n        args.forEach(arg => {\n            if (arg.length !== 3) {\n                throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n                    JSON.stringify(arg) +\n                    '\" ');\n            }\n            this.whereArray.push(arg);\n        });\n        return this;\n    }\n    /**\n     * Pushes where filter with OR condition\n     * to the orWhereArray\n     *\n     * @param {String|Array} args OR where filters\n     * @returns {Model} Fluent Model\n     */\n    orWhere(...args) {\n        this.chainReference.push({ method: 'orWhere', args });\n        args = Array.isArray(args[0]) ? args : [args];\n        args.forEach(arg => {\n            if (arg.length !== 3) {\n                throw new Error('There orWhere clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n                    JSON.stringify(arg) +\n                    '\" ');\n            }\n            this.orWhereArray.push(arg);\n        });\n        return this;\n    }\n    /**\n     * Limits the number of results for the\n     * given query\n     * @param {int} limit limit number\n     * @returns {Model} Fluent Model\n     */\n    limit(limit) {\n        this.chainReference.push({ method: 'limit', args: limit });\n        this.limitNumber = limit;\n        return this;\n    }\n    /**\n     * Alias for the limit method\n     *\n     * @param {*} limit limit number\n     * @returns {Model} Fluent Model\n     */\n    take(limit) {\n        return this.limit(limit);\n    }\n    /**\n     * Gets all values for a given KEY\n     * @param {String} keyPath The path to the key\n     * @returns {Array}\n     */\n    pluck(keyPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.chainReference.push({ method: 'pluck', args: keyPath });\n            let data = yield this.get();\n            data = data.map(e => {\n                const extracted = Objects_1.Objects.getFromPath(e, keyPath, undefined);\n                if (typeof extracted.value !== 'undefined') {\n                    return extracted.value;\n                }\n            });\n            return data;\n        });\n    }\n    /**\n     *\n     * @param {*} args\n     */\n    orderBy(...args) {\n        this.chainReference.push({ method: 'orderBy', args });\n        this.orderByArray = args;\n        return this;\n    }\n    ArrayInsert(dataArray, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let initial = 1;\n            const length = dataArray.length;\n            for (const element of dataArray) {\n                if (options && options.showProgress) {\n                    console.log(`Inserting ${initial} of ${length}`);\n                }\n                try {\n                    const a = yield this.insert(element, options);\n                    if (options && options.showProgress) {\n                        console.log(`Element ${initial} inserted`);\n                    }\n                    initial++;\n                }\n                catch (e) {\n                    console.log(`ERROR - Element ${initial} - ${JSON.stringify(element)} could not be inserted`);\n                    console.log(e);\n                    initial++;\n                }\n            }\n        });\n    }\n    /**\n     * Maps the given Data to show only those fields\n     * explicitly detailed on the Select function\n     *\n     * @param {Array} data Data from local or remote DB\n     * @returns {Array} Formatted data with the selected columns\n     */\n    jsApplySelect(data) {\n        let _data = Array.isArray(data) ? [...data] : [data];\n        if (this.selectArray.length > 0) {\n            _data = _data.map(element => {\n                const newElement = {};\n                this.selectArray.forEach(attribute => {\n                    const extract = Objects_1.Objects.getFromPath(element, attribute, undefined);\n                    const value = Objects_1.Objects.get(() => extract.value, undefined);\n                    if (typeof value !== 'undefined') {\n                        if (typeof value === 'object' && value.hasOwnProperty('data') && value.data.hasOwnProperty('name')) {\n                            newElement[extract.label] = value.data.name;\n                        }\n                        else {\n                            newElement[extract.label] = value;\n                        }\n                    }\n                });\n                return newElement;\n            });\n        }\n        return _data;\n    }\n    /**\n     *\n     * @param {*} data\n     */\n    jsApplyOrderBy(data) {\n        let _data = [...data];\n        if (this.orderByArray.length === 0) {\n            return _data;\n        }\n        const field = this.orderByArray[0];\n        if (this.selectArray.length > 0 && (field.includes('.') || field.includes('['))) {\n            throw new Error('Cannot orderBy nested attribute \"' + field + '\" when using Select. You must rename the attribute');\n        }\n        const order = this.orderByArray[1];\n        let type = this.orderByArray[2];\n        if (!type) {\n            type = 'string';\n        }\n        _data = _data.sort((a, b) => {\n            const A = Objects_1.Objects.getFromPath(a, field, undefined).value;\n            const B = Objects_1.Objects.getFromPath(b, field, undefined).value;\n            if (typeof A === 'undefined' || typeof B === 'undefined') {\n                throw new Error('Cannot order by property \"' + field + '\" not all values have this property');\n            }\n            // For default order and numbers\n            if (type.includes('string') || type.includes('number')) {\n                if (order === 'asc') {\n                    return A > B ? 1 : A < B ? -1 : 0;\n                }\n                return A > B ? -1 : A < B ? 1 : 0;\n            }\n            else if (type.includes('date')) {\n                if (order === 'asc') {\n                    return new Date(A).getTime() - new Date(B).getTime();\n                }\n                return new Date(B).getTime() - new Date(A).getTime();\n            }\n        });\n        return _data;\n    }\n    /**\n     *\n     * @param {*} input\n     */\n    prepareInput(input) {\n        let cols = [];\n        input.forEach(item => {\n            let value = Array.isArray(item) ? item : item.split(',');\n            value = value.map(e => {\n                return e.trim();\n            });\n            cols = cols.concat(value);\n        });\n        cols.filter((elem, pos, arr) => {\n            return arr.indexOf(elem) === pos;\n        });\n        return cols;\n    }\n}\nexports.BaseConnector = BaseConnector;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Objects_1 = require(\"./Helpers/Objects\");\nclass Collection {\n    constructor(data) {\n        this.data = data;\n    }\n    /**\n     *\n     */\n    get() {\n        return this.data;\n    }\n    /**\n     * Alias for the \"get\" method\n     * @return function\n     */\n    all() {\n        return this.get();\n    }\n    /**\n     * Alias for the \"average\" method.\n     *\n     * @param  {String}  path Path of the key\n     * @return function\n     */\n    avg(path) {\n        return this.average(path);\n    }\n    /**\n     * Get the average value of a given key.\n     *\n     * @param  {String}  path Path of the key\n     * @return static\n     */\n    average(path = '') {\n        const data = [...this.data];\n        const sum = Number(data.reduce((acc, element) => {\n            let value;\n            if (element instanceof Object) {\n                const extract = Objects_1.Objects.getFromPath(element, path, undefined);\n                if (typeof extract !== 'undefined' && extract.value) {\n                    value = extract.value;\n                }\n            }\n            else {\n                value = Number(element);\n            }\n            return acc + value;\n        }, 0));\n        try {\n            const avg = sum / data.length;\n            return avg;\n        }\n        catch (e) {\n            throw new Error('Division between \"' + sum + '\" and \"' + data.length + '\" is not valid.');\n        }\n    }\n    /**\n     *\n     * @param size\n     * @param callback\n     */\n    chunkApply(size, callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (callback === undefined) {\n                throw new Error('Callback function not defined.');\n            }\n            const totalSize = this.data.length;\n            let count = 0;\n            this.chunks(size);\n            const reducer = (chain, batch) => chain\n                .then(() => Promise.all(batch.map(d => callback(d))))\n                .then(() => {\n                count = count + size > totalSize ? totalSize : count + size;\n                console.log(`Processed ${count}/${totalSize} elements...`);\n            });\n            console.log(`Processed ${count}/${totalSize} elements...`);\n            const data = [...this.data];\n            const promiseChain = data.reduce(reducer, Promise.resolve());\n            return promiseChain;\n        });\n    }\n    /**\n     * Chunks the given array\n     *\n     * @param {Int} size\n     * @return static\n     */\n    chunks(size) {\n        const data = [...this.data];\n        const results = [];\n        while (data.length) {\n            results.push(data.splice(0, size));\n        }\n        this.data = results;\n        return this;\n    }\n    /**\n     *\n     */\n    collapse() {\n        const data = [...this.data];\n        const results = [];\n        data.forEach(chunk => {\n            if (Array.isArray(chunk)) {\n                chunk.forEach(element => {\n                    results.push(element);\n                });\n            }\n            else {\n                results.push(chunk);\n            }\n        });\n        this.data = results;\n        return this;\n    }\n    /**\n     *\n     */\n    unChunk() {\n        return this.collapse();\n    }\n    /*public combine(array) {\n      const data = [...this.data]\n      let result\n      data.forEach((e, index) => {\n        if (!(e instanceof Object) && typeof e !== 'boolean') {\n          if (!result) {\n            result = {}\n          }\n          result[e] = array[index]\n        } else {\n          if (!result) {\n            result = []\n          }\n          result[index] = { ...e, _value: array[index] }\n        }\n      })\n  \n      this.data = result\n      return this\n    }*/\n    concat(array) {\n        this.data = [...this.data, ...array];\n        return this;\n    }\n    /**\n     *\n     * @param args\n     */\n    contains(...args) {\n        let value;\n        let path;\n        let Fx;\n        if (args.length === 1) {\n            if (this.isFunction(args[0])) {\n                Fx = args[0];\n            }\n            value = args[0];\n        }\n        else {\n            value = args[1];\n            path = args[0];\n        }\n        const data = [...this.data];\n        return data.some((e, index) => {\n            if (Fx) {\n                return !!Fx(e, index);\n            }\n            let val = e;\n            if (e instanceof Object) {\n                const extract = Objects_1.Objects.getFromPath(e, path, undefined);\n                if (extract.value) {\n                    val = extract.value;\n                }\n            }\n            return val === value;\n        });\n    }\n    /**\n     * Returns an array of duplicate submissions, based on an array of keys.\n     * @param {Array} keys - Keys where the function compares an object to evaluate its similarity.\n     */\n    duplicatesBy(keys) {\n        const data = [...this.data];\n        const duplicates = [];\n        data.reduce((object, submission) => {\n            const finalKey = keys.reduce((s, key) => s + Objects_1.Objects.getFromPath(submission, key, '').value, '');\n            if (object.hasOwnProperty(finalKey)) {\n                duplicates.push(submission);\n            }\n            else {\n                object[finalKey] = true;\n            }\n            return object;\n        }, {});\n        this.data = duplicates;\n        return this;\n    }\n    /**\n     *\n     */\n    count() {\n        return this.data.length;\n    }\n    /**\n     *\n     * @param functionToCheck\n     */\n    isFunction(functionToCheck) {\n        return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n    }\n}\nexports.Collection = Collection;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Collection_1 = require(\"./Collection\");\nconst Model_1 = require(\"./Model\");\nvar connectorTypes;\n(function (connectorTypes) {\n    connectorTypes[\"local\"] = \"local\";\n    connectorTypes[\"remote\"] = \"remote\";\n    connectorTypes[\"merge\"] = \"merge\";\n})(connectorTypes = exports.connectorTypes || (exports.connectorTypes = {}));\nclass Fluent {\n    static registerModel(name) {\n        if (!name || name === 'baseModel') {\n            return;\n        }\n        if (typeof window !== 'undefined') {\n            window._FLUENT_.models[name] = true;\n            return;\n        }\n        global._FLUENT_.models[name] = true;\n    }\n    /**\n     *\n     */\n    static model(name, config) {\n        this.registerModel(name);\n        return new Model_1.Model(name, config);\n    }\n    /**\n     *\n     * @param args\n     */\n    static collect(data) {\n        return new Collection_1.Collection(data);\n    }\n    static getConfig() {\n        if (typeof window !== 'undefined' && window) {\n            return window._FLUENT_;\n        }\n        if (typeof global !== 'undefined' && global) {\n            return global._FLUENT_;\n        }\n    }\n    constructor() { }\n    /**\n     *\n     * @param param0\n     */\n    registerConnector({ type, connector }) {\n        if (!type || !connector) {\n            throw new Error('type and connector must be defined');\n        }\n        const ctx = typeof window !== 'undefined' && window ? window._FLUENT_ : global._FLUENT_;\n        const connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n        if (connectors.length === 0) {\n            connector = Object.assign(Object.assign({}, connector), { default: true });\n            connectors.push(connector);\n            ctx.connectors[type] = connectors;\n            return;\n        }\n        if (connectors.find(o => o.name === connector.name)) {\n            console.log(`A ${type} connector with the name '${connector.name}' already exists`);\n            return;\n        }\n        connectors.push(connector);\n        ctx.connectors[type] = connectors;\n    }\n    /**\n     *\n     * @param param0\n     */\n    deregisterConnector({ type, name }) {\n        if (!type || !name) {\n            throw new Error('type and name must be defined');\n        }\n        const ctx = typeof window !== 'undefined' && window ? window._FLUENT_ : global._FLUENT_;\n        const connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n        if (connectors.length === 0) {\n            return;\n        }\n        const filteredConnectors = connectors.filter((o) => o.name !== name);\n        ctx.connectors[type] = filteredConnectors;\n    }\n    /*\n     * @param param0\n     */\n    config({ REMOTE_CONNECTORS, LOCAL_CONNECTORS, MERGE_CONNECTORS }) {\n        this.registerGlobalVariable();\n        if (typeof window !== 'undefined' && window && window._FLUENT_) {\n            window._FLUENT_.connectors = {\n                local: LOCAL_CONNECTORS,\n                merge: MERGE_CONNECTORS,\n                remote: REMOTE_CONNECTORS\n            };\n        }\n        if (typeof global !== 'undefined' && global && global._FLUENT_) {\n            global._FLUENT_.connectors = {\n                local: LOCAL_CONNECTORS,\n                merge: MERGE_CONNECTORS,\n                remote: REMOTE_CONNECTORS\n            };\n        }\n    }\n    /**\n     *\n     */\n    registerGlobalVariable() {\n        if (typeof window !== 'undefined' && window && !window._FLUENT_) {\n            window._FLUENT_ = {\n                connectors: {},\n                models: {}\n            };\n        }\n        if (global && !global._FLUENT_) {\n            global._FLUENT_ = {\n                connectors: {},\n                models: {}\n            };\n        }\n    }\n}\nexports.Fluent = Fluent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Model {\n    constructor(name, config) {\n        this.name = 'baseModel';\n        this.config = {\n            local: {\n                connector: 'loki'\n            },\n            merge: {\n                connector: 'formio-loki'\n            },\n            remote: {\n                path: undefined,\n                pullForm: false,\n                token: undefined\n            }\n        };\n        this.name = name;\n        this.config = config || this.config;\n    }\n    /**\n     *\n     */\n    getModelName() {\n        return this.name;\n    }\n    /**\n     *\n     * @param param0\n     */\n    remote({ token = undefined, pullForm = undefined, connectorName = undefined, path = undefined } = {}) {\n        const FLUENT = this.getFluentConfig();\n        const connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.remote;\n        if (!connectors) {\n            throw new Error('No remote connector was defined. Please define it using Fluent.config()');\n        }\n        const remoteConnector = this.getConnector(connectors, 'remote', connectorName || false);\n        this.config.remote.token = token || this.config.remote.token;\n        this.config.remote.path = path || this.config.remote.path;\n        if (pullForm) {\n            this.config.remote.pullForm = pullForm || this.config.remote.pullForm;\n        }\n        if (remoteConnector) {\n            const connector = new remoteConnector.connector({\n                connector: remoteConnector,\n                remoteConnection: this.config.remote\n            });\n            return connector;\n        }\n        throw new Error('No default remote connector found. Please assign one as your default in your Fluent constructor');\n    }\n    /**\n     *\n     * @param param0\n     */\n    local({ connectorName = undefined } = {}) {\n        const FLUENT = this.getFluentConfig();\n        const connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.local;\n        if (!connectors) {\n            throw new Error('No local connector was defined. Please define it using Fluent.config()');\n        }\n        const localConnector = this.getConnector(connectors, 'local', connectorName || false);\n        if (localConnector) {\n            const connector = new localConnector.connector({\n                connector: localConnector,\n                name: this.name\n            });\n            return connector;\n        }\n        throw new Error('No default local connector found. Please assign one as your default in Fluent.config');\n    }\n    /**\n     *\n     */\n    merged() {\n        const local = this.local();\n        const remote = this.remote();\n        const FLUENT = this.getFluentConfig();\n        const connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.merge;\n        if (!connectors) {\n            throw new Error('No merge connector was defined. Please define it using Fluent.config()');\n        }\n        const mergeConnector = this.getConnector(connectors, 'merge');\n        if (mergeConnector) {\n            const connector = new mergeConnector.connector({\n                connector: mergeConnector,\n                local,\n                name: this.name,\n                remote\n            });\n            return connector;\n        }\n        throw new Error('No default merge connector found. Please assign one as your default in Fluent.config');\n    }\n    /**\n     *\n     */\n    getFluentConfig() {\n        let FLUENT;\n        if (typeof window !== 'undefined' && window && window._FLUENT_) {\n            FLUENT = window._FLUENT_;\n        }\n        else if (global && global._FLUENT_) {\n            FLUENT = global._FLUENT_;\n        }\n        return FLUENT;\n    }\n    /**\n     *\n     * @param connectors\n     * @param type\n     * @param connectorName\n     */\n    getConnector(connectors, type, connectorName = false) {\n        if (Array.isArray(connectors)) {\n            return this.getConnectorFromArray(connectors, type, connectorName);\n        }\n        if (connectors instanceof Object) {\n            return connectors;\n        }\n        return undefined;\n    }\n    /**\n     *\n     * @param connectors\n     * @param type\n     * @param connectorName\n     */\n    getConnectorFromArray(connectors, type, connectorName = false) {\n        // Default case\n        if (connectors.length === 1) {\n            return connectors[0];\n        }\n        // If the model assigns specific one\n        if (this.config && this.config[type] && this.config[type].connector) {\n            const Lcon = connectors.find(c => c.name === this.config[type].connector);\n            if (Lcon instanceof Object) {\n                return Lcon;\n            }\n        }\n        // If connectorName is specified\n        if (connectorName) {\n            const Lcon = connectors.find(c => c.name === connectorName);\n            if (Lcon instanceof Object) {\n                return Lcon;\n            }\n        }\n        const base = connectors.find(c => c.default);\n        if (base instanceof Object) {\n            return base;\n        }\n        return undefined;\n    }\n}\nexports.Model = Model;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Event = (() => {\n    const CustomEvent = (event, params) => {\n        const evt = document.createEvent('CustomEvent');\n        params = params || { bubbles: false, cancelable: false, detail: undefined };\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    };\n    /**\n     *\n     * @param param0\n     */\n    const emit = ({ name, data, text }) => {\n        if (!name) {\n            throw new Error('Event must have a name.');\n        }\n        if (!data) {\n            throw new Error('Event must have data.');\n        }\n        if (!text) {\n            throw new Error('Event must have a text.');\n        }\n        const customEvent = CustomEvent(name, {\n            detail: {\n                data,\n                text\n            }\n        });\n        window.dispatchEvent(customEvent);\n    };\n    /**\n     *\n     * @param param0\n     */\n    const listen = ({ name, callback }) => {\n        if (!name) {\n            throw new Error('Listener must have a name.');\n        }\n        if (!callback) {\n            throw new Error('Listener must have a callback.');\n        }\n        window.addEventListener(name, callback);\n    };\n    /**\n     *\n     * @param param0\n     */\n    const remove = ({ name, callback }) => {\n        if (!name) {\n            throw new Error('Listener must have a name to detach');\n        }\n        if (!callback) {\n            throw new Error('Listener must have a callback to detach');\n        }\n        window.removeEventListener(name, callback);\n    };\n    return Object.freeze({\n        emit,\n        listen,\n        remove\n    });\n})();\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst await_to_js_1 = __importDefault(require(\"await-to-js\"));\nconst axios_1 = __importDefault(require(\"axios\"));\nconst dayjs_1 = __importDefault(require(\"dayjs\"));\nconst isSameOrAfter_1 = __importDefault(require(\"dayjs/plugin/isSameOrAfter\"));\nconst pluralize_1 = __importDefault(require(\"pluralize\"));\nconst BaseConnector_1 = require(\"../../BaseConnector\");\nconst Fluent_1 = require(\"../../Fluent\");\nconst Connection_1 = require(\"../../Helpers/Connection\");\nconst Errors_1 = require(\"../../Helpers/Errors\");\nconst Event_1 = require(\"../../Helpers/Event\");\nconst findComponents_1 = require(\"../../Helpers/Formio/findComponents\");\nconst Objects_1 = require(\"../../Helpers/Objects\");\ndayjs_1.default.extend(isSameOrAfter_1.default);\n// import jwtDecode from 'jwt-decode'\nclass Loopback extends BaseConnector_1.BaseConnector {\n    /**\n     *\n     */\n    get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.ownerId) {\n                this.andWhere('owner', '=', this.ownerId);\n            }\n            const [error, result] = yield await_to_js_1.default(this.httpGET());\n            if (error) {\n                if (error.response.status === 440) {\n                    Event_1.Event.emit({\n                        name: 'GOAT:SESSION:EXPIRED',\n                        data: error,\n                        text: 'Session expired'\n                    });\n                    throw new Error(Errors_1.Errors(error, 'Session has expired.'));\n                }\n                throw new Error(Errors_1.Errors(error, 'Error while getting submissions'));\n            }\n            if (result && result.data && this.selectArray.length > 0) {\n                result.data = this.jsApplySelect(result.data);\n                return [result.data];\n            }\n            return this.jsApplySelect(result && result.data);\n        });\n    }\n    /**\n     *\n     */\n    all() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.get();\n        });\n    }\n    /**\n     *\n     * @param paginator\n     */\n    paginate(paginator) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!paginator) {\n                throw new Error('Paginator cannot be empty');\n            }\n            this.paginator = paginator;\n            const response = yield this.get();\n            if (!response[0]) {\n                throw new Error('The query was not paginated');\n            }\n            const results = {\n                current_page: response[0].meta.currentPage,\n                data: response[0].data,\n                first_page_url: response[0].meta.firstPageUrl,\n                next_page_url: response[0].meta.nextPageUrl,\n                path: response[0].meta.path,\n                per_page: response[0].meta.itemsPerPage,\n                prev_page_url: response[0].meta.previousPageUrl,\n                total: response[0].meta.totalItemCount\n            };\n            return results;\n        });\n    }\n    /**\n     *\n     * @param query\n     */\n    raw(query) {\n        if (!query) {\n            throw new Error('No query was received');\n        }\n        this.rawQuery = query;\n        return this;\n    }\n    /**\n     *\n     * @param data\n     */\n    insert(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [error, result] = yield await_to_js_1.default(this.httpPOST(data));\n            if (error) {\n                throw new Error('Cannot insert data');\n            }\n            return result.data;\n        });\n    }\n    /**\n     *\n     * @param paginator\n     */\n    tableView(paginator) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const baseUrl = this && this.baseUrl() ? this.baseUrl() : undefined;\n            const remotePath = Objects_1.Objects.get(() => this.remoteConnection.path, undefined);\n            const form = yield this.getForm(remotePath);\n            if (!form) {\n                throw new Error('Could not find form');\n            }\n            const components = form.components;\n            let finalComponents = this.getTableViewComponents(components);\n            finalComponents = [...finalComponents, '_id as _id', 'modified as HumanUpdated', 'related'];\n            this.select(finalComponents);\n            return this.paginate(paginator);\n        });\n    }\n    /**\n     *\n     * @param components\n     */\n    getTableViewComponents(components) {\n        return findComponents_1.findComponents(components, {\n            input: true,\n            tableView: true\n        })\n            .filter(c => !!(c.label !== ''))\n            .map(c => `data.${c.key} as ${c.key}`);\n    }\n    /**\n     *\n     * @param data\n     */\n    update(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!data._id) {\n                throw new Error('Formio connector error. Cannot update a Model without _id key');\n            }\n            if (data._id.includes('_local')) {\n                throw new Error('Formio connector error. Cannot update a local document');\n            }\n            const [error, result] = yield await_to_js_1.default(this.httpPUT(data));\n            if (error) {\n                console.log(error);\n                throw new Error('Cannot insert data');\n            }\n            return result.data;\n        });\n    }\n    /**\n     *\n     * @param param0\n     */\n    clear({ sure }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!sure || sure !== true) {\n                throw new Error('Clear() method will delete everything!, you must set the \"sure\" parameter \"clear({sure:true})\" to continue');\n            }\n            const promises = [];\n            const [error, data] = yield await_to_js_1.default(this.select('_id').pluck('_id'));\n            if (error) {\n                console.log(error);\n                throw new Error('Cannot get remote Model');\n            }\n            data.forEach(_id => {\n                promises.push(this.httpDelete(_id));\n            });\n            return axios_1.default.all(promises);\n        });\n    }\n    /**\n     *\n     * @param _id\n     */\n    removeById(_id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [error, removed] = yield await_to_js_1.default(this.httpDelete(_id));\n            if (error) {\n                console.log(error);\n                throw new Error(`FormioConnector: Could not delete ${_id}`);\n            }\n            return { deleted: 1 };\n        });\n    }\n    /**\n     *\n     * @param _id\n     */\n    findById(_id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [error, data] = yield await_to_js_1.default(this.where('_id', '=', _id).first());\n            if (error) {\n                console.log(error);\n                throw new Error('Find() could not get remote data');\n            }\n            return data;\n        });\n    }\n    /**\n     *\n     * @param baseUrl\n     * @param path\n     */\n    getForm(path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const Config = Fluent_1.Fluent.model('Form', {\n                remote: {\n                    path: 'form',\n                    pullForm: true\n                }\n            });\n            const form = yield Config.local()\n                .where('data.path', '=', path)\n                .first();\n            return form.data;\n        });\n    }\n    getUrl() {\n        const baseUrl = this && this.baseUrl() ? this.baseUrl() : undefined;\n        const path = Objects_1.Objects.get(() => this.remoteConnection.path, undefined);\n        if (!baseUrl) {\n            throw new Error('Cannot get remote model. baseUrl was not found');\n        }\n        if (!path) {\n            throw new Error('Cannot get remote model. Path was not found');\n        }\n        return `${baseUrl}/${path}`;\n    }\n    getHeaders() {\n        const headers = {};\n        let token = {};\n        // Get token from local storage\n        token = this.getToken();\n        // Overwrite if a token is given in the connector\n        if (this.remoteConnection.token || this.remoteConnection.token === '') {\n            token = this.remoteConnection.token;\n        }\n        if (!token) {\n            return headers;\n        }\n        const type = this.getTokenType(token);\n        headers[type] = token;\n        headers.Authorization = `Bearer ${token}`;\n        return headers;\n    }\n    getPage() {\n        const page = 'page=';\n        if (this.paginator && this.paginator.page) {\n            return page + this.paginator.page + '&';\n        }\n        return '';\n    }\n    getPaginatorLimit(filter) {\n        if (this.paginator && this.paginator.perPage) {\n            return Object.assign(Object.assign({}, filter), { limit: this.paginator.perPage });\n        }\n        return filter;\n    }\n    getPopulate() {\n        const populate = [];\n        this.populateArray.forEach(relation => {\n            if (typeof relation === 'string') {\n                populate.push({ relation });\n            }\n            else if (Array.isArray(relation)) {\n                relation.forEach(nestedRelation => {\n                    if (typeof nestedRelation === 'string') {\n                        populate.push({ relation: nestedRelation });\n                    }\n                    else if (typeof nestedRelation === 'object') {\n                        populate.push(nestedRelation);\n                    }\n                });\n            }\n            else if (typeof relation === 'object') {\n                populate.push(relation);\n            }\n        });\n        return populate;\n    }\n    httpGET() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let filter = {};\n            let url = this.baseUrl();\n            const headers = this.getHeaders();\n            filter = yield this.getFilters(filter);\n            filter = this.getLimit(filter);\n            filter = this.getSkip(filter);\n            filter = this.getSelect(filter);\n            filter = this.getOrderBy(filter);\n            filter = this.getPaginatorLimit(filter);\n            const page = this.getPage();\n            const populate = this.getPopulate();\n            if (this.rawQuery) {\n                filter.related = populate || this.rawQuery.populate;\n                filter.limit = filter.limit || this.rawQuery.limit;\n                filter.skip = filter.skip || this.rawQuery.skip;\n                filter.order = filter.order || this.rawQuery.order;\n                filter.fields = Object.assign(Object.assign({}, filter.fields), this.rawQuery.fields);\n                const where = filter.where && filter.where.and ? filter.where.and[0] : {};\n                filter.where = Object.assign(Object.assign({}, where), this.rawQuery.where);\n            }\n            filter.where = Object.assign(Object.assign({}, filter.where), { deleted: null });\n            // Loopback replaces all / by camel case\n            if (this.remoteConnection.path.includes('/')) {\n                this.remoteConnection.path = this.remoteConnection.path.replace('/', '');\n            }\n            // Looback replaces all singular words by plural\n            this.remoteConnection.path = pluralize_1.default(this.remoteConnection.path);\n            const remotePath = Objects_1.Objects.get(() => this.remoteConnection.path, undefined);\n            // Always limit the amount of request\n            url = `${url}/${remotePath}?${page}filter=${encodeURI(JSON.stringify(filter))}`;\n            const isOnline = true || (yield Connection_1.Connection.isOnline());\n            if (!isOnline) {\n                throw new Error(`Cannot make get request to ${url}.You are not online`);\n            }\n            return axios_1.default.get(url, { headers });\n        });\n    }\n    httpPOST(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = this.getUrl();\n            delete data.draft;\n            delete data.redirect;\n            delete data.syncError;\n            delete data.trigger;\n            const headers = this.getHeaders();\n            const isOnline = true || (yield Connection_1.Connection.isOnline());\n            if (!isOnline) {\n                throw new Error(`Cannot make request post to ${url}.You are not online`);\n            }\n            return axios_1.default.post(url, data, { headers });\n        });\n    }\n    httpPUT(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isOnline = true || (yield Connection_1.Connection.isOnline());\n            const url = `${this.getUrl()}/${data._id}`;\n            const headers = this.getHeaders();\n            delete data.draft;\n            delete data.redirect;\n            delete data.syncError;\n            delete data.trigger;\n            delete data._id;\n            if (!isOnline) {\n                throw new Error(`Cannot make request post to ${url}.You are not online`);\n            }\n            return axios_1.default.put(url, data, { headers });\n        });\n    }\n    httpDelete(_id) {\n        const headers = this.getHeaders();\n        const url = `${this.getUrl()}/${_id}`;\n        return axios_1.default.delete(url, { headers });\n    }\n    getTokenType(token) {\n        if (token.length > 32) {\n            return 'x-jwt-token';\n        }\n        return 'x-token';\n    }\n    getFilters(filters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const filter = this.whereArray;\n            if (!filter || filter.length === 0) {\n                return filters;\n            }\n            filters.where = { and: [] };\n            filter.forEach(condition => {\n                const element = condition[0];\n                const operator = condition[1];\n                const value = condition[2];\n                switch (operator) {\n                    case '=':\n                        filters.where.and.push({ [element]: value });\n                        break;\n                    case '!=':\n                        filters.where.and.push({ [element]: { neq: value } });\n                        break;\n                    case '>':\n                        filters.where.and.push({ [element]: { gt: value } });\n                        break;\n                    case '>=':\n                        filters.where.and.push({ [element]: { gte: value } });\n                        break;\n                    case '<':\n                        filters.where.and.push({ [element]: { lt: value } });\n                        break;\n                    case '<=':\n                        filters.where.and.push({ [element]: { lte: value } });\n                        break;\n                    case 'in':\n                        filters.where.and.push({ [element]: { inq: value } });\n                        break;\n                    case 'nin':\n                        filters.where.and.push({ [element]: { nin: value } });\n                        break;\n                    case 'exists':\n                        filters.where.and.push({ [element]: { exists: true } });\n                        break;\n                    case '!exists':\n                        filters.where.and.push({ [element]: { exists: false } });\n                        break;\n                    case 'regex':\n                        filters.where.and.push({ [`data.${element}`]: { regexp: value } });\n                        break;\n                }\n            });\n            return filters;\n        });\n    }\n    getOrderBy(filter) {\n        if (!this.orderByArray || this.orderByArray.length === 0) {\n            return filter;\n        }\n        return Object.assign(Object.assign({}, filter), { order: `${this.orderByArray[0]} ${this.orderByArray[1].toUpperCase()}` });\n    }\n    getLimit(filter) {\n        if (!this.limitNumber || this.limitNumber === 0) {\n            this.limitNumber = (this.rawQuery && this.rawQuery.limit) || 50;\n        }\n        return Object.assign(Object.assign({}, filter), { limit: this.limitNumber });\n    }\n    getSkip(filter) {\n        if (!this.offsetNumber) {\n            this.offsetNumber = (this.rawQuery && this.rawQuery.skip) || 0;\n        }\n        return Object.assign(Object.assign({}, filter), { skip: this.offsetNumber });\n    }\n    getSelect(filter) {\n        let select = this.selectArray;\n        select = select.map(s => {\n            s = s.split(' as ')[0];\n            s = s.includes('_id') ? '_id' : s;\n            return s;\n        });\n        if (select.find(e => e.startsWith('data.'))) {\n            select.unshift('data');\n        }\n        if (!select) {\n            return filter;\n        }\n        const fields = {};\n        select.forEach(e => {\n            fields[e] = true;\n        });\n        return Object.assign(Object.assign({}, filter), { fields });\n    }\n    getToken() {\n        if (typeof localStorage === 'undefined') {\n            return;\n        }\n        const token = localStorage.getItem('formioToken');\n        return token;\n        /*\n          if (!token || this.getTokenType(token) === 'x-token') {\n            return token\n          }\n          \n          const decodedToken = jwtDecode(token);\n          const expDate = dayjs.unix(decodedToken.exp);\n          if (dayjs().isSameOrAfter(expDate)) {\n            Event.emit({\n              name: \"GOAT:SESSION:EXPIRED\",\n              data: expDate,\n              text: \"Session expired\"\n            });\n            throw new Error(\"Token has expired.\");\n          }\n          */\n        return token;\n    }\n    baseUrl() {\n        const { baseUrl, name } = this.connector;\n        if (!baseUrl) {\n            throw new Error(`You did not provide a baseUrl for the \"${name}\" connector`);\n        }\n        return baseUrl.replace(/\\/+$/, '');\n    }\n}\nexports.Loopback = Loopback;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Objects_1 = require(\"../Objects\");\nconst eachComponent_1 = require(\"./eachComponent\");\n/**\n *\n * @param component\n * @param query\n */\nconst matchComponent = (component, query) => {\n    if (typeof query === 'string') {\n        return component.key === query;\n    }\n    let matches = false;\n    Object.keys(query).forEach(path => {\n        matches = Objects_1.Objects.getFromPath(component, path).value === query[path];\n        if (!matches) {\n            return false;\n        }\n    });\n    return matches;\n};\n/**\n * Recursively finds all components\n * matching a Mongo-like query\n * @param components\n * @param query\n */\nexports.findComponents = (components, query) => {\n    const results = [];\n    eachComponent_1.eachComponent(components, (component, path) => {\n        if (matchComponent(component, query)) {\n            component.path = path;\n            results.push(component);\n        }\n    }, true);\n    return results;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n *\n * @param components\n * @param fn\n * @param includeAll\n * @param path\n * @param parent\n */\nexports.eachComponent = (components, fn, includeAll, path, parent) => {\n    if (!components) {\n        return;\n    }\n    path = path || '';\n    components.forEach((component) => {\n        if (!component) {\n            return;\n        }\n        const hasColumns = component.columns && Array.isArray(component.columns);\n        const hasRows = component.rows && Array.isArray(component.rows);\n        const hasComps = component.components && Array.isArray(component.components);\n        let noRecurse = false;\n        const newPath = component.key ? (path ? `${path}.${component.key}` : component.key) : '';\n        // Keep track of parent references.\n        if (parent) {\n            // Ensure we don't create infinite JSON structures.\n            component.parent = Object.assign({}, parent);\n            delete component.parent.components;\n            delete component.parent.componentMap;\n            delete component.parent.columns;\n            delete component.parent.rows;\n        }\n        if (includeAll || component.tree || (!hasColumns && !hasRows && !hasComps)) {\n            noRecurse = fn(component, newPath);\n        }\n        const subPath = () => {\n            if (component.key &&\n                !['panel', 'table', 'well', 'columns', 'fieldset', 'tabs', 'form'].includes(component.type) &&\n                (['datagrid', 'container', 'editgrid'].includes(component.type) || component.tree)) {\n                return newPath;\n            }\n            else if (component.key && component.type === 'form') {\n                return `${newPath}.data`;\n            }\n            return path;\n        };\n        if (!noRecurse) {\n            if (hasColumns) {\n                component.columns.forEach(column => exports.eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null));\n            }\n            else if (hasRows) {\n                component.rows.forEach(row => {\n                    if (Array.isArray(row)) {\n                        row.forEach(column => exports.eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null));\n                    }\n                });\n            }\n            else if (hasComps) {\n                exports.eachComponent(component.components, fn, includeAll, subPath(), parent ? component : null);\n            }\n        }\n    });\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst VError = require('verror');\nconst createError = require('http-errors');\nconst Logger_1 = require(\"../Log/Logger\");\n// import gLog from \"./gLogs\";\nexports.Errors = (cause, message, info) => {\n    const stackableError = new VError({\n        cause,\n        info\n    }, message);\n    const details = Object.assign(Object.assign(Object.assign({}, info), { errors: cause }), { stack: stackableError.stack });\n    Logger_1.Log.error(details);\n    if (info && info.code) {\n        return {\n            httpError: createError(info.code, message, {\n                details,\n                info\n            }),\n            stack: stackableError\n        };\n    }\n    return stackableError;\n};\n"],"sourceRoot":""}